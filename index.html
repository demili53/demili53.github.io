<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="연애 심리 중심으로 감정 흐름과 관계 성향을 가볍게 확인하는 심리 테스트 모음. 짧은 질문으로 나의 분위기와 궁합 포인트를 알아보세요.">
  <meta name="keywords" content="연애 심리 테스트, 관계 성향, 궁합, 감정, 브레인 테스트">
  <meta name="author" content="partygame.pe.kr">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://partygame.pe.kr/">
  <link rel="sitemap" type="application/xml" title="Sitemap" href="https://partygame.pe.kr/sitemap.xml">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <meta property="og:type" content="website">
  <meta property="og:title" content="잼있는 심리 테스트 모음 | Brain Test Hub">
  <meta property="og:description" content="연애 심리 중심 테스트로 감정 흐름과 관계 성향을 가볍게 확인해 보세요.">
  <meta property="og:url" content="https://partygame.pe.kr/">
  <meta property="og:image" content="https://partygame.pe.kr/brainTest/images/fox.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="잼있는 심리 테스트 모음 | Brain Test Hub">
  <meta name="twitter:description" content="연애 심리 중심으로 관계 성향과 궁합 포인트를 확인하는 테스트 컬렉션">
  <meta name="google-adsense-account" content="ca-pub-1087435977438565">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1087435977438565"
          crossorigin="anonymous"></script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Brain Test Hub",
      "url": "https://partygame.pe.kr/",
      "description": "연애 심리 중심으로 감정 흐름과 관계 성향을 확인하는 심리 테스트 모음.",
      "inLanguage": "ko"
    }
  </script>
  <title>잼있는 심리 테스트</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900 text-slate-50">
  <div class="max-w-4xl mx-auto px-6 py-14">
    <nav class="mb-5 flex flex-wrap items-center justify-center gap-2 text-sm">
      <a href="/blog/" class="px-3 py-2 rounded-full border border-indigo-200/50 text-indigo-100 hover:bg-white/10 transition">블로그</a>
      <a href="/psychology-guide.html" class="px-3 py-2 rounded-full border border-indigo-200/50 text-indigo-100 hover:bg-white/10 transition">심리 해설 가이드</a>
      <a href="/privacy.html" class="px-3 py-2 rounded-full border border-white/30 text-slate-100 hover:bg-white/10 transition">개인정보처리방침</a>
      <a href="/terms.html" class="px-3 py-2 rounded-full border border-white/30 text-slate-100 hover:bg-white/10 transition">이용약관</a>
      <a href="/contact.html" class="px-3 py-2 rounded-full border border-white/30 text-slate-100 hover:bg-white/10 transition">문의하기</a>
    </nav>
    <header class="text-center mb-10 space-y-3 relative overflow-hidden rounded-3xl border border-white/10 bg-gradient-to-br from-rose-950/60 via-slate-900/40 to-indigo-950/60 p-6 md:p-10">
      <div class="pointer-events-none absolute -top-12 -right-16 h-56 w-56 rounded-full bg-rose-400/20 blur-3xl"></div>
      <div class="pointer-events-none absolute -bottom-16 -left-20 h-56 w-56 rounded-full bg-indigo-400/20 blur-3xl"></div>
      <div class="pointer-events-none absolute inset-0 opacity-30 [background-image:radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.08)_1px,transparent_0)] [background-size:24px_24px]"></div>
      <p class="text-sm uppercase tracking-[0.25em] text-indigo-200">Brain Test Hub</p>
      <h1 class="text-3xl md:text-4xl font-bold">연애 심리 테스트 허브</h1>
      <p class="text-slate-200">짧은 질문으로 관계 성향과 감정 흐름을 확인해 보세요.</p>
      <div class="flex flex-wrap justify-center gap-3 text-sm">
        <a href="#recommended" class="px-4 py-2 rounded-full border border-indigo-200/60 text-indigo-100 hover:bg-white/10 transition">연애 추천 보기</a>
        <button id="startRomanceFilterBtn" class="px-4 py-2 rounded-full border border-rose-200/60 text-rose-100 hover:bg-white/10 transition">연애 키워드만 보기</button>
        <button id="startMatchFilterBtn" class="px-4 py-2 rounded-full border border-amber-200/60 text-amber-100 hover:bg-white/10 transition">궁합 테스트 바로가기</button>
        <button id="startNowBtn" class="px-4 py-2 rounded-full bg-rose-500/80 text-white hover:bg-rose-400 transition">테스트 랜덤 시작</button>
        <button id="toggleThumbBtn" class="px-4 py-2 rounded-full border border-white/30 text-slate-100 hover:bg-white/10 transition">썸네일 숨기기</button>
      </div>
    </header>

    <section class="bg-white/10 border border-white/10 rounded-2xl shadow-2xl backdrop-blur-lg p-6 md:p-8 space-y-6">
      <div class="space-y-1">
        <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">연애 심리 스토리</div>
        <p class="text-sm text-slate-200">우리가 사랑을 표현하는 방식은 생각보다 다양해요. 이 테스트들은 작은 선택으로 감정의 결, 관계 속 역할, 궁합 포인트를 가볍게 확인하도록 설계했습니다.</p>
        <p class="text-sm text-slate-300">정답을 맞히는 것이 아니라, 지금 내 마음의 온도와 리듬을 알아보는 과정에 가까워요.</p>
      </div>

      <div class="grid gap-4 md:grid-cols-2">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 space-y-2">
          <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">제작 원칙</div>
          <ul class="text-sm text-slate-200 space-y-1">
            <li>연애/관계 심리를 중심으로 질문 흐름을 설계합니다.</li>
            <li>결과는 4종 이상이며, 궁합 포인트를 함께 제공합니다.</li>
            <li>테스트는 짧고 몰입감 있게, 모바일에서도 읽기 쉽게 만듭니다.</li>
            <li>업데이트는 신규 테스트 출시 시 반영됩니다.</li>
            <li>외부 참고가 있더라도 문구는 독자적으로 재구성합니다.</li>
          </ul>
        </div>
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 space-y-2">
          <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">활용 팁</div>
          <ul class="text-sm text-slate-200 space-y-1">
            <li>친구/연인과 결과를 비교하며 대화를 이어가 보세요.</li>
            <li>궁합 결과 링크로 다른 타입도 함께 확인해 보세요.</li>
            <li>기분이 달라질 때 다시 풀어보면 새로운 인사이트가 생겨요.</li>
          </ul>
        </div>
      </div>

      <div id="recommended" class="space-y-3">
        <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">연애 감성 추천</div>
        <div class="grid gap-3 md:grid-cols-2">
          <a href="/brainTest/pages/brainTest/tree-test.html" class="block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4">
            <div class="h-28 rounded-lg bg-cover bg-center border border-white/10" style="background-image:url('/brainTest/images/tree-love-og.jpg');"></div>
            <h3 class="mt-3 text-lg font-semibold text-rose-100">나만의 트리 연애 테스트</h3>
            <p class="mt-2 text-sm text-slate-200">연애 나무 타입과 궁합을 확인하는 감성 테스트</p>
            <p class="mt-2 text-xs text-slate-400">연애 무드를 색으로 읽는 감정 지도</p>
            <div class="mt-3 flex flex-wrap gap-2 text-xs text-slate-300">
              <span class="px-2 py-1 rounded-full border border-rose-200/40 text-rose-100">연애</span>
              <span class="px-2 py-1 rounded-full border border-amber-200/40 text-amber-100">궁합</span>
            </div>
          </a>
          <a href="/brainTest/pages/brainTest/love-count-test.html" class="block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4">
            <div class="h-28 rounded-lg bg-cover bg-center border border-white/10" style="background-image:url('/brainTest/images/strategy-og.jpg');"></div>
            <h3 class="mt-3 text-lg font-semibold text-rose-100">내 생에 남은 연애 횟수 테스트</h3>
            <p class="mt-2 text-sm text-slate-200">연애 루틴으로 남은 연애 카운트를 예측</p>
            <p class="mt-2 text-xs text-slate-400">감정 리듬이 만드는 연애 타이밍</p>
            <div class="mt-3 flex flex-wrap gap-2 text-xs text-slate-300">
              <span class="px-2 py-1 rounded-full border border-rose-200/40 text-rose-100">연애</span>
              <span class="px-2 py-1 rounded-full border border-indigo-200/40 text-indigo-100">감정</span>
            </div>
          </a>
          <a href="/brainTest/pages/brainTest/love-strategy-test.html" class="block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4">
            <div class="h-28 rounded-lg bg-cover bg-center border border-white/10" style="background-image:url('/brainTest/images/strategy-plan.jpg');"></div>
            <h3 class="mt-3 text-lg font-semibold text-rose-100">나 공략법 테스트</h3>
            <p class="mt-2 text-sm text-slate-200">나의 연애 공략 포인트를 찾아보는 테스트</p>
            <p class="mt-2 text-xs text-slate-400">끌림을 높이는 나만의 힌트</p>
            <div class="mt-3 flex flex-wrap gap-2 text-xs text-slate-300">
              <span class="px-2 py-1 rounded-full border border-rose-200/40 text-rose-100">연애</span>
              <span class="px-2 py-1 rounded-full border border-amber-200/40 text-amber-100">궁합</span>
            </div>
          </a>
          <a href="/brainTest/pages/brainTest/marriage-ability-test.html" class="block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4">
            <div class="h-28 rounded-lg bg-cover bg-center border border-white/10" style="background-image:url('/brainTest/images/strategy-heart.jpg');"></div>
            <h3 class="mt-3 text-lg font-semibold text-rose-100">결혼 능력 테스트</h3>
            <p class="mt-2 text-sm text-slate-200">배우자 성향과 궁합 포인트를 확인</p>
            <p class="mt-2 text-xs text-slate-400">장기전 연애의 균형 체크</p>
            <div class="mt-3 flex flex-wrap gap-2 text-xs text-slate-300">
              <span class="px-2 py-1 rounded-full border border-rose-200/40 text-rose-100">관계</span>
              <span class="px-2 py-1 rounded-full border border-amber-200/40 text-amber-100">궁합</span>
            </div>
          </a>
          <a href="/brainTest/pages/brainTest/menhera-test.html" class="block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4">
            <div class="h-28 rounded-lg bg-cover bg-center border border-white/10" style="background-image:url('/brainTest/images/menhera-og.jpg');"></div>
            <h3 class="mt-3 text-lg font-semibold text-rose-100">멘헤라 감정 스펙트럼 테스트</h3>
            <p class="mt-2 text-sm text-slate-200">연애와 일상 감정 리듬을 체크</p>
            <p class="mt-2 text-xs text-slate-400">감정 스펙트럼을 부드럽게 읽기</p>
            <div class="mt-3 flex flex-wrap gap-2 text-xs text-slate-300">
              <span class="px-2 py-1 rounded-full border border-indigo-200/40 text-indigo-100">감정</span>
              <span class="px-2 py-1 rounded-full border border-rose-200/40 text-rose-100">연애</span>
            </div>
          </a>
          <a href="/brainTest/pages/brainTest/dere-test.html" class="block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4">
            <div class="h-28 rounded-lg bg-cover bg-center border border-white/10" style="background-image:url('/brainTest/images/dere-og.jpg');"></div>
            <h3 class="mt-3 text-lg font-semibold text-rose-100">데레 테스트</h3>
            <p class="mt-2 text-sm text-slate-200">감정 표현 스타일로 데레 타입 확인</p>
            <p class="mt-2 text-xs text-slate-400">표현 방식의 귀여운 결을 발견</p>
            <div class="mt-3 flex flex-wrap gap-2 text-xs text-slate-300">
              <span class="px-2 py-1 rounded-full border border-rose-200/40 text-rose-100">연애</span>
              <span class="px-2 py-1 rounded-full border border-indigo-200/40 text-indigo-100">감정</span>
            </div>
          </a>
        </div>
      </div>

      <div class="space-y-3">
        <div class="flex flex-col gap-3 md:flex-row md:items-center">
          <label class="flex-1 text-sm text-slate-200">
            <span class="sr-only">검색</span>
            <input id="searchInput" type="text" placeholder="테스트 이름, 설명 또는 키워드로 검색하세요" class="mt-1 w-full rounded-xl border border-white/20 bg-white/5 px-4 py-3 text-slate-50 placeholder:text-slate-400 focus:border-indigo-300 focus:outline-none">
          </label>
          <button id="clearSearchBtn" class="text-sm px-4 py-2 rounded-xl border border-white/20 text-slate-200 hover:bg-white/10 transition">검색 초기화</button>
        </div>
        <div class="flex flex-wrap items-center justify-between gap-2">
          <div class="text-xs text-slate-300">키워드 필터를 펼쳐 빠르게 찾을 수 있어요.</div>
          <button id="toggleKeywordsBtn" class="px-3 py-1 rounded-full border border-white/20 text-xs text-slate-200 hover:bg-white/10 transition">키워드 펼치기</button>
        </div>
        <div id="keywordFilters" class="hidden flex flex-wrap gap-2 text-sm"></div>
        <div class="flex flex-wrap gap-2 text-xs text-slate-300">
          <span class="uppercase tracking-widest text-indigo-100">연애 필터</span>
          <button class="px-3 py-1 rounded-full border border-rose-200/40 text-rose-100 hover:bg-white/10 transition" data-romance-tag="연애">연애</button>
          <button class="px-3 py-1 rounded-full border border-rose-200/40 text-rose-100 hover:bg-white/10 transition" data-romance-tag="궁합">궁합</button>
          <button class="px-3 py-1 rounded-full border border-rose-200/40 text-rose-100 hover:bg-white/10 transition" data-romance-tag="감정">감정</button>
          <button class="px-3 py-1 rounded-full border border-rose-200/40 text-rose-100 hover:bg-white/10 transition" data-romance-tag="관계">관계</button>
          <button class="px-3 py-1 rounded-full border border-rose-200/40 text-rose-100 hover:bg-white/10 transition" data-romance-tag="연애">#연애만</button>
        </div>
      </div>

      <div id="testList" class="grid gap-3"></div>
      <div class="text-center">
        <button id="loadMoreBtn" class="hidden px-4 py-2 rounded-xl border border-white/20 text-sm text-slate-200 hover:bg-white/10 transition">더 보기</button>
      </div>

      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 space-y-2">
        <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">FAQ</div>
        <div class="text-sm text-slate-200 space-y-2">
          <div><strong class="text-indigo-100">Q. 결과는 정확한 심리 검사인가요?</strong> A. 마음을 가볍게 들여다보는 재미용 테스트입니다.</div>
          <div><strong class="text-indigo-100">Q. 왜 연애 심리 중심인가요?</strong> A. 관계에서 드러나는 감정 패턴이 가장 선명하게 느껴지기 때문이에요.</div>
          <div><strong class="text-indigo-100">Q. 결과가 마음에 안 들면?</strong> A. 오늘의 컨디션이 반영될 수 있어요. 다른 날 다시 풀어보세요.</div>
          <div><strong class="text-indigo-100">Q. 데이터는 저장되나요?</strong> A. 별도의 회원 가입이나 결과 저장을 요구하지 않습니다.</div>
          <div><strong class="text-indigo-100">Q. 테스트는 얼마나 자주 업데이트되나요?</strong> A. 새로운 테스트가 나오면 홈에 바로 반영됩니다.</div>
          <div><strong class="text-indigo-100">Q. 콘텐츠는 직접 제작되나요?</strong> A. 네, 질문과 결과는 내부 기준에 맞춰 직접 구성합니다.</div>
          <div><strong class="text-indigo-100">Q. 추천 테스트는 어떻게 고르나요?</strong> A. 연애 감성 테마와 반응이 좋은 테스트를 우선 배치합니다.</div>
        </div>
      </div>

      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 space-y-3">
        <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">최근 업데이트</div>
        <div id="recentUpdates" class="grid gap-3 md:grid-cols-2"></div>
      </div>

      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 space-y-3">
        <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">궁합 테스트 큐레이션</div>
        <div id="matchCuration" class="grid gap-3 md:grid-cols-2"></div>
      </div>

      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 space-y-2">
        <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">About</div>
        <p class="text-sm text-slate-200">Brain Test Hub는 연애 심리의 결을 가볍게 탐색할 수 있는 테스트 컬렉션입니다. 짧은 질문으로 감정의 리듬과 관계 성향을 확인하고, 결과를 통해 대화를 이어갈 수 있도록 설계했습니다.</p>
        <p class="text-xs text-slate-400">주의: 본 테스트는 재미와 자기 탐색 목적이며, 전문 심리 진단이 아닙니다.</p>
      </div>

      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 space-y-2">
        <div class="text-xs font-semibold text-indigo-100 uppercase tracking-widest">Contact</div>
        <p class="text-sm text-slate-200">문의 및 제안은 이메일로 보내주세요.</p>
        <p class="text-sm text-indigo-100">demili5384@gmail.com</p>
      </div>
    </section>

    <footer class="mt-10 text-center text-sm text-indigo-100 space-y-2">
      <p>목록에서 항목을 클릭하면 실행 페이지로 이동합니다.</p>
      <p class="flex flex-wrap items-center justify-center gap-3">
        <a href="/blog/" class="underline hover:text-indigo-50">블로그</a>
        <a href="/psychology-guide.html" class="underline hover:text-indigo-50">심리 해설 가이드</a>
        <a href="/privacy.html" class="underline hover:text-indigo-50">개인정보처리방침</a>
        <a href="/terms.html" class="underline hover:text-indigo-50">이용약관</a>
        <a href="/contact.html" class="underline hover:text-indigo-50">문의하기</a>
      </p>
    </footer>
  </div>
</body>
<script id="testListData" type="application/json">[{"id": "male-language-ability-test", "title": "남자어 능력고사", "path": "/brainTest/pages/brainTest/male-language-ability-test.html", "description": "대화 상황 질문으로 남자어 해석 감각을 측정하는 6문항 테스트", "keywords": ["남자어", "대화 해석", "소통", "테스트"]}, {"id": "nani-suki-test", "title": "나니가 스키? 테스트", "path": "/brainTest/pages/brainTest/nani-suki-test.html", "description": "아이스크림 취향 질문으로 나의 러브 무드 타입을 찾는 6문항 테스트", "keywords": ["아이스크림", "취향", "감성", "연애", "테스트"]}, {"id": "signature-scent-test", "title": "나만의 향기 찾기", "path": "/brainTest/pages/brainTest/signature-scent-test.html", "description": "향기 취향 질문으로 나만의 시그니처 향 타입을 찾는 6문항 테스트", "keywords": ["향기", "퍼퓸", "무드", "성향", "테스트"]}, {"id": "sleep-zodiac-test", "title": "쿨쿨띠 테스트", "path": "/brainTest/pages/brainTest/sleep-zodiac-test.html", "description": "수면 습관 질문으로 나의 쿨쿨띠 타입을 알아보는 6문항 테스트", "keywords": ["수면", "잠버릇", "루틴", "성향", "테스트"]}, {"id": "buddy-dragon-test", "title": "나의 짝꿍 드래곤 찾기", "path": "/brainTest/pages/brainTest/buddy-dragon-test.html", "description": "드래곤 라이더 질문으로 나와 찰떡인 짝꿍 드래곤 타입을 찾는 6문항 테스트", "keywords": ["드래곤", "판타지", "모험", "성향", "테스트"]}, {"id": "neighbor-animal-test", "title": "이웃집 동물 테스트", "path": "/brainTest/pages/brainTest/neighbor-animal-test.html", "description": "이웃집 동물 감성 질문으로 나와 찰떡인 동물 주민 타입을 알아보는 6문항 테스트", "keywords": ["이웃집", "동물", "관계", "심리", "테스트"]}, {"id": "love-egenteto-mood-test", "title": "에겐녀·테토녀 무드 테스트", "path": "/brainTest/pages/brainTest/love-egenteto-mood-test.html", "description": "연애 상황에서 드러나는 에겐녀/테토녀 무드 밸런스를 알아보는 6문항 테스트", "keywords": ["연애", "에겐녀", "테토녀", "무드", "테스트"]}, {"id": "love-idol-position-test", "title": "연애 아이돌 포지션 테스트", "path": "/brainTest/pages/brainTest/love-idol-position-test.html", "description": "연애에서 내가 맡는 감정 역할을 아이돌 포지션으로 알아보는 6문항 테스트", "keywords": ["연애", "아이돌", "포지션", "감정", "테스트"]}, {"id": "romance-noble-lady-test", "title": "로판 영애 연애력 테스트", "path": "/brainTest/pages/brainTest/romance-noble-lady-test.html", "description": "로맨스 판타지 감성 질문으로 내 연애 귀족력을 알아보는 6문항 테스트", "keywords": ["로판", "영애", "연애력", "감성", "테스트"]}, {"id": "tree-test", "title": "나만의 트리 연애 테스트", "path": "/brainTest/pages/brainTest/tree-test.html", "description": "연애 나무 타입을 알려주는 6문항 연애 심리 테스트", "keywords": ["연애", "나무", "감성", "테스트"]}, {"id": "yakuza-vibe-test", "title": "야쿠자 무드 테스트", "path": "/brainTest/pages/brainTest/yakuza-vibe-test.html", "description": "밤거리 감성으로 나의 리더십과 팀 케미를 확인하는 6문항 테스트", "keywords": ["야쿠자", "무드", "리더십", "테스트"]}, {"id": "love-count-test", "title": "내 생에 남은 연애 횟수 테스트", "path": "/brainTest/pages/brainTest/love-count-test.html", "description": "연애 루틴을 통해 남은 연애 횟수와 스타일을 예측하는 6문항 테스트", "keywords": ["연애", "횟수", "전망", "테스트"]}, {"id": "new-year-fortune-test", "title": "2026 신년 종합 운세 뽑기", "path": "/brainTest/pages/brainTest/new-year-fortune-test.html", "description": "붉은 말의 해 에너지와 궁합 전략을 알려주는 6문항 운세 테스트", "keywords": ["운세", "신년", "행운", "테스트"]}, {"id": "cosmic-alien-test", "title": "코스믹 외계 본능 테스트", "path": "/brainTest/pages/brainTest/cosmic-alien-test.html", "description": "지구에 불시착한 외계 본능을 6문항으로 확인하는 테스트", "keywords": ["외계인", "우주", "감성", "테스트"]}, {"id": "all-season-tree-test", "title": "올인원 트리 꾸미기 테스트", "path": "/brainTest/pages/brainTest/all-season-tree-test.html", "description": "나만의 트리 감성과 장식 스타일을 6문항으로 알아보는 테스트", "keywords": ["트리", "크리스마스", "장식", "테스트"]}, {"id": "dinner-spin-test", "title": "오늘의 저메추 스핀 테스트", "path": "/brainTest/pages/brainTest/dinner-spin-test.html", "description": "입맛 시그널로 오늘 먹으면 행복한 저녁 메뉴를 골라주는 6문항 테스트", "keywords": ["저메추", "음식", "저녁", "테스트"]}, {"id": "menhera-test", "title": "멘헤라 감정 스펙트럼 테스트", "path": "/brainTest/pages/brainTest/menhera-test.html", "description": "연애와 일상에서 표출되는 멘헤라 에너지 레벨을 6문항으로 알아보는 테스트", "keywords": ["멘헤라", "감정", "연애", "테스트"]}, {"id": "lucky-type-test", "title": "행운 유형 테스트", "path": "/brainTest/pages/brainTest/lucky-type-test.html", "description": "사랑·돈·여행·힐링 네 가지 결로 행운 에너지 루트를 짚어보는 6문항 테스트", "keywords": ["행운", "클로버", "재물", "테스트"]}, {"id": "charm-guardian-test", "title": "나만의 액막이 찾기", "path": "/brainTest/pages/brainTest/charm-guardian-test.html", "description": "불운을 삼켜 줄 액막이 캐릭터와 정화 루틴을 6문항으로 알아보는 테스트", "keywords": ["액막이", "부적", "정화", "테스트"]}, {"id": "meme-ability-test", "title": "2025년 밈 능력고사", "path": "/brainTest/pages/brainTest/meme-ability-test.html", "description": "짤 해석/리믹스/보관/정찰 실력을 점검하는 6문항 밈 능력 시험", "keywords": ["밈", "짤", "인터넷", "테스트"]}, {"id": "year-end-summary-test", "title": "2025년 연말 성격 결산 테스트", "path": "/brainTest/pages/brainTest/year-end-summary-test.html", "description": "2025년 하이라이트와 루틴을 압축해 내년 전략을 추천하는 6문항 연말 결산 테스트", "keywords": ["연말", "결산", "성격", "테스트"]}, {"id": "fishbread-test", "title": "따끈따끈 붕어빵 테스트", "path": "/brainTest/pages/brainTest/fishbread-test.html", "description": "붕어빵 취향으로 겨울 페르소나와 궁합을 알아보는 6문항 테스트", "keywords": ["붕어빵", "겨울간식", "음식", "테스트"]}, {"id": "hamster-test", "title": "나만의 햄스터 테스트", "path": "/brainTest/pages/brainTest/hamster-test.html", "description": "집콕 루틴과 간식 취향으로 햄스터 페르소나를 찾아보는 6문항 테스트", "keywords": ["햄스터", "동물", "집콕", "테스트"]}, {"id": "understanding-test", "title": "나의 이해력 테스트", "path": "/brainTest/pages/brainTest/understanding-test.html", "description": "다름을 이해하는 감수성을 10문항으로 점검하는 테스트", "keywords": ["이해력", "문화", "공감", "테스트"]}, {"id": "hippo-type-test", "title": "하마 유형 테스트", "path": "/brainTest/pages/brainTest/hippo-type-test.html", "description": "느긋함과 파워를 가진 하마 에너지로 성향을 알아보는 6문항 테스트", "keywords": ["하마", "동물", "에너지", "테스트"]}, {"id": "puppy-kitty-test", "title": "댕댕미 냥냥미 테스트", "path": "/brainTest/pages/brainTest/puppy-kitty-test.html", "description": "강아지·고양이 매력 밸런스로 나의 댕댕미와 냥냥미를 확인하는 8문항 테스트", "keywords": ["동물", "강아지", "고양이", "테스트"]}, {"id": "smooth-texture-test", "title": "매끈매끈한 테스트", "path": "/brainTest/pages/brainTest/smooth-texture-test.html", "description": "촉감 취향으로 내 리듬을 알아보는 8문항 성향 테스트", "keywords": ["동물", "촉감", "성향", "테스트"]}, {"id": "fact-assault-test", "title": "팩트 폭행 테스트", "path": "/brainTest/pages/brainTest/fact-assault-test.html", "description": "유리 멘탈은 가라... 당신의 팩폭 레벨을 알아보는 6문항 진실 폭행 테스트", "keywords": ["팩트 폭행", "팩폭", "MBTI", "진실", "테스트"]}, {"id": "personality-fourcut-test", "title": "성격 네컷 테스트", "path": "/brainTest/pages/brainTest/personality-fourcut-test.html", "description": "포토부스에서 찍을 나만의 성격 네컷 사진 스타일을 6문항으로 알아보는 테스트", "keywords": ["성격 네컷", "포토부스", "사진", "포즈", "테스트"]}, {"id": "wiki-test", "title": "나만의 위키 테스트", "path": "/brainTest/pages/brainTest/wiki-test.html", "description": "기록 습관과 정보 정리 방식으로 나의 위키 타입을 알려주는 6문항 테스트", "keywords": ["위키", "기록", "정리", "테스트"]}, {"id": "magic-girl-test", "title": "마법 소녀 테스트", "path": "/brainTest/pages/brainTest/magic-girl-test.html", "description": "요술봉을 받은 순간 드러나는 마법 소녀 타입을 확인하는 6문항 테스트", "keywords": ["마법", "소녀", "요술봉", "테스트"]}, {"id": "dere-test", "title": "데레 테스트", "path": "/brainTest/pages/brainTest/dere-test.html", "description": "감정 표현 리듬으로 나만의 데레 타입을 확인하는 6문항 테스트", "keywords": ["데레", "감정", "관계", "테스트"]}, {"id": "little-ghost-test", "title": "꼬마유령 테스트", "path": "/brainTest/pages/brainTest/little-ghost-test.html", "description": "밤 분위기 속에서 드러나는 꼬마유령 타입을 알아보는 6문항 테스트", "keywords": ["유령", "밤", "감성", "테스트"]}, {"id": "pastlife-animal-test", "title": "전생 동물 테스트", "path": "/brainTest/pages/brainTest/pastlife-animal-test.html", "description": "선택한 본능과 습관으로 전생 동물 타입을 알아보는 6문항 테스트", "keywords": ["전생", "동물", "본능", "테스트"]}, {"id": "mbti-face-test", "title": "MBTI 관상 테스트", "path": "/brainTest/pages/brainTest/mbti-face-test.html", "description": "첫인상 단서로 MBTI 관상 타입을 알아보는 6문항 테스트", "keywords": ["MBTI", "관상", "인상", "테스트"]}, {"id": "inner-devil-test", "title": "내 안의 악마 테스트", "path": "/brainTest/pages/brainTest/inner-devil-test.html", "description": "선택한 반응으로 내 안의 악마 에너지를 확인하는 6문항 테스트", "keywords": ["악마", "심리", "감정", "테스트"]}, {"id": "soul-potato-test", "title": "영혼의 감자 테스트", "path": "/brainTest/pages/brainTest/soul-potato-test.html", "description": "감자 같은 본능으로 나의 영혼 감자 타입을 알아보는 6문항 테스트", "keywords": ["감자", "본능", "힐링", "테스트"]}, {"id": "dumpling-test", "title": "나만의 만두 테스트", "path": "/brainTest/pages/brainTest/dumpling-test.html", "description": "만두 취향으로 나만의 만두 성향을 알아보는 6문항 테스트", "keywords": ["만두", "음식", "취향", "테스트"]}, {"id": "inner-persona-test", "title": "내 마음 속 페르소나 테스트", "path": "/brainTest/pages/brainTest/inner-persona-test.html", "description": "선택한 행동 패턴으로 내 마음 속 페르소나를 찾는 6문항 테스트", "keywords": ["페르소나", "성향", "감정", "테스트"]}, {"id": "second-half-vibe-test", "title": "하반기 추구미 테스트", "path": "/brainTest/pages/brainTest/second-half-vibe-test.html", "description": "하반기 분위기를 만드는 추구미 타입을 알아보는 6문항 테스트", "keywords": ["하반기", "추구미", "무드", "테스트"]}, {"id": "spelling-sense-test", "title": "맞춤법 능력 시험", "path": "/brainTest/pages/brainTest/spelling-sense-test.html", "description": "맞춤법 센스로 나의 문장 감각을 확인하는 6문항 테스트", "keywords": ["맞춤법", "한글날", "문장", "테스트"]}, {"id": "fashion-fairy-test", "title": "패션 요정 테스트", "path": "/brainTest/pages/brainTest/fashion-fairy-test.html", "description": "스타일 취향으로 나만의 패션 요정 타입을 알아보는 6문항 테스트", "keywords": ["패션", "요정", "스타일", "테스트"]}, {"id": "laugh-button-test", "title": "개웃겨서 도티낳음 테스트", "path": "/brainTest/pages/brainTest/laugh-button-test.html", "description": "웃음 버튼 취향으로 개웃겨서 도티낳음 타입을 알아보는 6문항 테스트", "keywords": ["웃음", "밈", "유머", "테스트"]}, {"id": "monkey-test", "title": "원숭이 테스트", "path": "/brainTest/pages/brainTest/monkey-test.html", "description": "행동 패턴으로 나의 원숭이 타입을 알아보는 6문항 테스트", "keywords": ["원숭이", "동물", "에너지", "테스트"]}, {"id": "personality-sticker-test", "title": "성격 스티커 테스트", "path": "/brainTest/pages/brainTest/personality-sticker-test.html", "description": "감정 반응으로 나의 성격 스티커 타입을 알아보는 6문항 테스트", "keywords": ["스티커", "성향", "감정", "테스트"]}, {"id": "tiny-animal-test", "title": "하찮은 동물 테스트", "path": "/brainTest/pages/brainTest/tiny-animal-test.html", "description": "귀엽고 하찮은 매력으로 나의 하찮은 동물 타입을 알아보는 6문항 테스트", "keywords": ["하찮은", "동물", "귀여움", "테스트"]}, {"id": "demon-slayer-test", "title": "귀멸의 칼날 테스트", "path": "/brainTest/pages/brainTest/demon-slayer-test.html", "description": "귀멸의 칼날 세계관에서 나와 어울리는 인물 타입을 알아보는 6문항 테스트", "keywords": ["귀멸의 칼날", "귀살대", "십이귀월", "애니메이션", "테스트"]}, {"id": "otaku-mock-test", "title": "오타쿠 모의고사", "path": "/brainTest/pages/brainTest/otaku-mock-test.html", "description": "덕질 루틴과 취향으로 오타쿠 모의고사 레벨을 확인하는 6문항 테스트", "keywords": ["오타쿠", "모의고사", "덕질", "레벨테스트"]}, {"id": "love-strategy-test", "title": "나 공략법 테스트", "path": "/brainTest/pages/brainTest/love-strategy-test.html", "description": "나의 연애 공략법을 알려주는 6문항 테스트", "keywords": ["공략법", "연애", "전략", "테스트"]}, {"id": "startup-type-test", "title": "창업 유형 테스트", "path": "/brainTest/pages/brainTest/startup-type-test.html", "description": "창업 스타일과 강점을 알아보는 6문항 창업 유형 테스트", "keywords": ["창업", "스타트업", "사업", "테스트"]}, {"id": "marriage-ability-test", "title": "결혼 능력 테스트", "path": "/brainTest/pages/brainTest/marriage-ability-test.html", "description": "내가 결혼한다면 어떤 배우자일지 알아보는 6문항 결혼 능력 테스트", "keywords": ["결혼", "배우자", "관계", "테스트"]}, {"id": "egen-teto-meter-test", "title": "에겐테토 측정 테스트", "path": "/brainTest/pages/brainTest/egen-teto-meter-test.html", "description": "에겐 지수와 테토 지수를 확인하는 6문항 에겐테토 측정 테스트", "keywords": ["에겐", "테토", "성향", "테스트"]}, {"id": "backroom-escape-game-test", "title": "백룸 탈출 게임", "path": "/brainTest/pages/brainTest/backroom-escape-game-test.html", "description": "백룸에서의 선택 패턴으로 나의 탈출 엔딩을 확인하는 6문항 테스트", "keywords": ["백룸", "탈출", "공포", "테스트"]}, {"id": "inbti-balance-test", "title": "inBTI 테스트", "path": "/brainTest/pages/brainTest/inbti-balance-test.html", "description": "성격 성분 비율로 나의 inBTI 타입을 측정하는 6문항 테스트", "keywords": ["inBTI", "성격 성분", "밸런스", "테스트"]}, {"id": "keyword-aura-test", "title": "연관 키워드 테스트", "path": "/brainTest/pages/brainTest/keyword-aura-test.html", "description": "나를 설명하는 연관 키워드와 시그니처 컬러를 찾는 6문항 테스트", "keywords": ["연관 키워드", "컬러", "이미지", "테스트"]}, {"id": "independence-hero-test", "title": "내 영혼의 독립운동가 찾기", "path": "/brainTest/pages/brainTest/independence-hero-test.html", "description": "독립운동가들의 정신을 떠올리며 나와 닮은 역할을 찾아보는 6문항 테스트", "keywords": ["독립운동가", "역사", "역할", "테스트"]}, {"id": "vacation-core-test", "title": "직장인 휴가코어 테스트", "path": "/brainTest/pages/brainTest/vacation-core-test.html", "description": "이번 여름 나에게 맞는 휴가 코어를 찾아보는 6문항 테스트", "keywords": ["휴가", "여름", "여행", "테스트"]}, {"id": "exam-charm-draw-test", "title": "수능 부적 뽑기", "path": "/brainTest/pages/brainTest/exam-charm-draw-test.html", "description": "나에게 어울리는 행운 부적을 찾아주는 6문항 수능 부적 뽑기 테스트", "keywords": ["수능", "부적", "행운", "테스트"]}, {"id": "cat-butler-test", "title": "냥집사 테스트", "path": "/brainTest/pages/brainTest/cat-butler-test.html", "description": "고양이와의 일상 선택으로 나의 집사력을 알아보는 6문항 냥집사 테스트", "keywords": ["고양이", "집사", "반려묘", "테스트"]}, {"id": "summerbti-color-test", "title": "여름BTI", "path": "/brainTest/pages/brainTest/summerbti-color-test.html", "description": "여름 감성 선택으로 나의 여름 컬러 타입을 찾는 6문항 여름BTI 테스트", "keywords": ["여름", "컬러", "감성", "테스트"]}, {"id": "detective-logic-test", "title": "명탐정 테스트", "path": "/brainTest/pages/brainTest/detective-logic-test.html", "description": "추리 선택으로 나의 명탐정 능력을 확인하는 6문항 명탐정 테스트", "keywords": ["추리", "탐정", "미스터리", "테스트"]}, {"id": "ideal-egen-teto-test", "title": "내 이상형은 에겐남? 테토남?", "path": "/brainTest/pages/brainTest/ideal-egen-teto-test.html", "description": "밸런스 질문으로 이상형의 에겐/테토 성향을 알아보는 6문항 테스트", "keywords": ["이상형", "연애", "밸런스", "테스트"]}, {"id": "destiny-bff-test", "title": "운명의 찐친 테스트", "path": "/brainTest/pages/brainTest/destiny-bff-test.html", "description": "여행에서 만난 운명의 찐친 타입을 알아보는 6문항 찐친 테스트", "keywords": ["찐친", "우정", "여행", "테스트"]}, {"id": "egen-girl-teto-girl-test", "title": "에겐녀 테토녀 테스트", "path": "/brainTest/pages/brainTest/egen-girl-teto-girl-test.html", "description": "에겐? 테토? 나는 어떤 타입일까? 6문항으로 에겐력과 테토력을 확인해 보세요.", "keywords": ["에겐녀", "테토녀", "연애 성향", "밸런스", "테스트"]}, {"id": "mbti-clash-finder-test", "title": "상극 MBTI 찾기 테스트", "path": "/brainTest/pages/brainTest/mbti-clash-finder-test.html", "description": "관계 충돌 상황 질문으로 나와 상극이 되기 쉬운 MBTI 결을 찾는 6문항 테스트", "keywords": ["상극 MBTI", "MBTI 궁합", "관계 충돌", "연애", "테스트"]}, {"id": "puzzle-piece-test", "title": "퍼즐조각 테스트", "path": "/brainTest/pages/brainTest/puzzle-piece-test.html", "description": "관계 선택 질문으로 나의 퍼즐조각 역할과 궁합 포인트를 찾는 6문항 테스트", "keywords": ["퍼즐조각", "관계 궁합", "연애 성향", "소통", "테스트"]}]</script>
<script>
  const listUrl = "/brainTest/pages/list.json";
  const listEl = document.getElementById("testList");
  const keywordWrap = document.getElementById("keywordFilters");
  const toggleKeywordsBtn = document.getElementById("toggleKeywordsBtn");
  const searchInput = document.getElementById("searchInput");
  const clearSearchBtn = document.getElementById("clearSearchBtn");
  const loadMoreBtn = document.getElementById("loadMoreBtn");
  const toggleThumbBtn = document.getElementById("toggleThumbBtn");
  const PAGE_SIZE = 10;
  const LOAD_MORE_COUNT = 5;
  const palette = [
    { text: "text-indigo-100", badge: "bg-indigo-500/20 border-indigo-200/40 text-indigo-50" },
    { text: "text-emerald-100", badge: "bg-emerald-500/20 border-emerald-200/40 text-emerald-50" },
    { text: "text-rose-100", badge: "bg-rose-500/20 border-rose-200/40 text-rose-50" },
    { text: "text-teal-100", badge: "bg-teal-500/20 border-teal-200/40 text-teal-50" },
    { text: "text-purple-100", badge: "bg-purple-500/20 border-purple-200/40 text-purple-50" },
    { text: "text-yellow-100", badge: "bg-yellow-500/20 border-yellow-200/40 text-yellow-50" },
    { text: "text-amber-100", badge: "bg-amber-500/20 border-amber-200/40 text-amber-50" },
    { text: "text-cyan-100", badge: "bg-cyan-500/20 border-cyan-200/40 text-cyan-50" }
  ];
  const thumbnailMap = {
    "tree-test": "/brainTest/images/tree-love-og.jpg",
    "love-count-test": "/brainTest/images/strategy-og.jpg",
    "love-strategy-test": "/brainTest/images/strategy-plan.jpg",
    "marriage-ability-test": "/brainTest/images/strategy-heart.jpg",
    "menhera-test": "/brainTest/images/menhera-og.jpg",
    "dere-test": "/brainTest/images/dere-og.jpg",
    "lucky-type-test": "/brainTest/images/lucky-og.jpg",
    "inner-persona-test": "/brainTest/images/persona-og.jpg",
    "personality-sticker-test": "/brainTest/images/sticker-og.jpg",
    "little-ghost-test": "/brainTest/images/ghost-og.jpg",
    "fishbread-test": "/brainTest/images/fishbread-og.jpg",
    "vacation-core-test": "/brainTest/images/vacation-og.jpg"
  };

  const inlineDataEl = document.getElementById("testListData");
  const inlineData = inlineDataEl ? JSON.parse(inlineDataEl.textContent) : [];

  let tests = [];
  let filtered = [];
  let visibleCount = PAGE_SIZE;
  let showThumbnails = true;

  function pickThumbnail(id) {
    return thumbnailMap[id] || "";
  }

  function prepareData(data) {
    tests = data.map((item, idx) => ({
      ...item,
      keywords: item.keywords || [],
      palette: palette[idx % palette.length],
      thumbnail: pickThumbnail(item.id)
    }));
    filtered = tests;
    renderKeywordFilters();
    renderCards();
    renderRecentUpdates();
    renderMatchCuration();
  }

  async function initList() {
    if (window.location.protocol === "file:") {
      prepareData(inlineData);
      return;
    }
    try {
      const res = await fetch(listUrl, { cache: "no-cache" });
      const data = await res.json();
      prepareData(data);
    } catch (err) {
      console.warn("리스트를 불러오지 못해 로컬 데이터를 사용합니다.", err);
      prepareData(inlineData);
    }
  }

  function renderKeywordFilters() {
    const keywords = new Set();
    tests.forEach(test => test.keywords.forEach(k => keywords.add(k)));
    keywordWrap.innerHTML = "";
    if (!keywords.size) return;
    keywords.forEach(keyword => {
      const btn = document.createElement("button");
      btn.className = "px-3 py-1 rounded-full border border-white/20 text-slate-200 hover:bg-white/10 transition";
      btn.textContent = `#${keyword}`;
      btn.addEventListener("click", () => {
        searchInput.value = keyword;
        applyFilter();
      });
      keywordWrap.appendChild(btn);
    });
    if (toggleKeywordsBtn) {
      toggleKeywordsBtn.textContent = keywordWrap.classList.contains("hidden") ? "키워드 펼치기" : "키워드 접기";
    }
  }

  function createCard(test) {
    const card = document.createElement("a");
    card.href = test.path;
    card.className = "block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4";
    const thumb = (test.thumbnail || "").trim();
    const cover = showThumbnails && thumb ? `<div class="mb-3 h-24 rounded-lg bg-cover bg-center border border-white/10" style="background-image:url('${thumb}');"></div>` : "";
    const tags = (test.keywords || []).slice(0, 3).map(k => {
      const highlight = ["연애", "궁합", "감정", "관계"].some(tag => k.includes(tag));
      return `<span class="text-xs px-2 py-1 rounded-full border ${highlight ? "border-rose-200/40 text-rose-100" : "border-white/15 text-slate-200"}">${k}</span>`;
    }).join("");
    card.innerHTML = `
      ${cover}
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold ${test.palette.text}">${test.title}</h2>
          <p class="mt-2 text-sm text-slate-200">${test.description}</p>
        </div>
        <span class="text-xs px-3 py-1 rounded-full ${test.palette.badge}">열기</span>
      </div>
      ${tags ? `<div class="mt-3 flex flex-wrap gap-2">${tags}</div>` : ""}
    `;
    if (test.keywords.length) {
      const keywordBox = document.createElement("div");
      keywordBox.className = "mt-3 flex flex-wrap gap-2";
      test.keywords.forEach(keyword => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "text-xs px-3 py-1 rounded-full border border-white/15 text-slate-200 hover:bg-white/10 transition";
        btn.textContent = keyword;
        btn.addEventListener("click", event => {
          event.preventDefault();
          searchInput.value = keyword;
          applyFilter();
        });
        keywordBox.appendChild(btn);
      });
      card.appendChild(keywordBox);
    }
    return card;
  }

  function renderCards() {
    listEl.innerHTML = "";
    const items = filtered.slice(0, visibleCount);
    if (!items.length) {
      listEl.innerHTML = '<div class="rounded-xl border border-white/15 bg-white/5 p-4 text-center text-sm text-slate-200">검색 결과가 없습니다.</div>';
    } else {
      items.forEach(test => listEl.appendChild(createCard(test)));
    }
    if (filtered.length > visibleCount) {
      loadMoreBtn.classList.remove("hidden");
    } else {
      loadMoreBtn.classList.add("hidden");
    }
  }

  function renderRecentUpdates() {
    const recentEl = document.getElementById("recentUpdates");
    if (!recentEl || !tests.length) return;
    const recent = tests.slice(-6).reverse();
    recentEl.innerHTML = "";
    const now = new Date();
    const stamp = now.toLocaleDateString("ko-KR");
    recent.forEach(test => {
      const card = document.createElement("a");
      card.href = test.path;
      card.className = "block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4";
      card.innerHTML = `
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-lg font-semibold ${test.palette.text}">${test.title}</h3>
            <p class="mt-2 text-sm text-slate-200">${test.description}</p>
            <p class="mt-2 text-xs text-slate-400">업데이트 · ${stamp}</p>
          </div>
          <span class="text-xs px-3 py-1 rounded-full ${test.palette.badge}">신규</span>
        </div>
      `;
      recentEl.appendChild(card);
    });
  }

  function renderMatchCuration() {
    const matchEl = document.getElementById("matchCuration");
    if (!matchEl || !tests.length) return;
    const curated = tests.filter(test => (test.keywords || []).some(k => k.includes("궁합"))).slice(0, 6);
    matchEl.innerHTML = "";
    curated.forEach(test => {
      const card = document.createElement("a");
      card.href = test.path;
      card.className = "block rounded-xl border border-white/15 bg-white/5 hover:border-indigo-200/60 hover:bg-white/10 transition p-4";
      const thumb = (test.thumbnail || "").trim();
      const cover = showThumbnails && thumb ? `<div class="h-24 rounded-lg bg-cover bg-center border border-white/10" style="background-image:url('${thumb}');"></div>` : "";
      card.innerHTML = `
        ${cover}
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-lg font-semibold ${test.palette.text}">${test.title}</h3>
            <p class="mt-2 text-sm text-slate-200">${test.description}</p>
          </div>
          <span class="text-xs px-3 py-1 rounded-full ${test.palette.badge}">궁합</span>
        </div>
      `;
      matchEl.appendChild(card);
    });
  }

  function applyFilter() {
    const query = searchInput.value.trim().toLowerCase();
    visibleCount = PAGE_SIZE;
    if (!query) {
      filtered = tests;
    } else {
      filtered = tests.filter(test => {
        const text = `${test.title} ${test.description}`.toLowerCase();
        const keywordMatch = (test.keywords || []).some(keyword => keyword.toLowerCase().includes(query));
        return text.includes(query) || keywordMatch;
      });
    }
    renderCards();
    updateQueryState();
  }

  function applyRomanceFilter(tag) {
    searchInput.value = tag;
    applyFilter();
    window.scrollTo({ top: keywordWrap.offsetTop - 80, behavior: "smooth" });
  }

  function updateQueryState() {
    const url = new URL(window.location.href);
    const q = searchInput.value.trim();
    if (q) url.searchParams.set("q", q);
    else url.searchParams.delete("q");
    url.searchParams.set("thumb", showThumbnails ? "1" : "0");
    url.searchParams.set("kw", keywordWrap.classList.contains("hidden") ? "0" : "1");
    window.history.replaceState({}, "", `${url.pathname}${url.search}${url.hash}`);
  }

  function initFromQuery() {
    const params = new URLSearchParams(window.location.search);
    const q = params.get("q") || "";
    const thumb = params.get("thumb");
    const kw = params.get("kw");
    if (q) searchInput.value = q;
    if (thumb === "0") showThumbnails = false;
    if (kw === "1") keywordWrap.classList.remove("hidden");
  }

  searchInput.addEventListener("input", () => applyFilter());
  clearSearchBtn.addEventListener("click", () => {
    searchInput.value = "";
    applyFilter();
  });
  loadMoreBtn.addEventListener("click", () => {
    visibleCount += LOAD_MORE_COUNT;
    renderCards();
  });

  document.querySelectorAll("[data-romance-tag]").forEach(btn => {
    btn.addEventListener("click", () => applyRomanceFilter(btn.dataset.romanceTag));
  });
  document.getElementById("startRomanceFilterBtn")?.addEventListener("click", () => applyRomanceFilter("연애"));
  document.getElementById("startMatchFilterBtn")?.addEventListener("click", () => applyRomanceFilter("궁합"));
  document.getElementById("startNowBtn")?.addEventListener("click", () => {
    if (!tests.length) return;
    const idx = Math.floor(Math.random() * tests.length);
    window.location.href = tests[idx]?.path || "#";
  });
  toggleThumbBtn?.addEventListener("click", () => {
    showThumbnails = !showThumbnails;
    toggleThumbBtn.textContent = showThumbnails ? "썸네일 숨기기" : "썸네일 보기";
    renderCards();
    renderMatchCuration();
    updateQueryState();
  });
  toggleKeywordsBtn?.addEventListener("click", () => {
    keywordWrap.classList.toggle("hidden");
    const opened = !keywordWrap.classList.contains("hidden");
    toggleKeywordsBtn.textContent = opened ? "키워드 접기" : "키워드 펼치기";
    updateQueryState();
  });

  initFromQuery();
  initList();
</script>
</html>








